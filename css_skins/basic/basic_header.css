/* ==================================================== */
/* Header Navigation - Rewritten with Church Variables */
/* ==================================================== */

/* --- Variable Mapping Assumptions: ---
 * --color-surface     -> --color-background-light (White/Off-White)
 * --color-text        -> --color-text-dark (Near Black)
 * --shadow-sm         -> --box-shadow-base
 * --space-2           -> --space-sm (1rem/16px)
 * --space-3           -> --space-md (1.5rem/24px)
 * --fs-xl             -> --font-size-h2 (1.777rem)
 * --space-6           -> --space-xl (4rem/64px)
 * --radius-sm         -> --border-radius-base (0.25rem)
 * --color-primary-strong -> --color-primary (Deep Maroon/Dark Brown)
 * --ease-fast         -> --transition-speed (0.2s)
 * --radius-md         -> calc(var(--border-radius-base) * 2) (0.5rem)
 * --color-muted       -> --gray-600 (Medium Dark Gray)
 * --container-max     -> 1400px (Assumed)
 * --gutter            -> --space-md (1.5rem/24px)
 * --leading (line-height) -> 1.2
 * --space-0           -> 3px (Assumed for outline border size)
*/

header {
  /* Background, text color, and shadow */
  background: var(--color-background-light);
  color: var(--color-text-dark);
  box-shadow: none;
}

/* Header Container Layout */
header {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    flex-wrap: wrap;
    max-width: 1400px;
    margin-inline: auto;
    padding-block: var(--space-sm);
    padding-inline: var(--space-md);
}

/* Logo - Adjusted to ensure inner content doesn't break alignment/display */
.site-logo {
    display: flex;
    align-items: center;
    min-inline-size: 0;
}
.site-logo a {
  color: var(--color-text-dark);
  text-decoration: none;
}
/* Logo h1 - Reduced font size to better fit a stacked logo+name structure */
.site-logo h1 {
    font-size: var(--font-size-h3); /* Reduced from --font-size-h2 */
    line-height: 1.2;
    margin: 0;
}
.site-logo img {
  display: block;
  max-block-size: var(--space-xl); /* Mapped from --space-6 */
  height: auto;
  width: auto;
}

/* Primary nav container */
nav.primary-menu {
  flex: 1 1 auto;
  min-inline-size: 0;
}

/* WordPress outputs: nav.primary-menu > ul.primary-menu */
nav.primary-menu > ul {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  align-items: center;
  gap: var(--space-sm); /* Mapped from --space-2 */
  margin: 0;
  padding: 0;
  list-style: none;
}

/* Links */
nav.primary-menu a {
  display: inline-flex;
  align-items: center;
  padding-block: var(--space-xs); /* Mapped from --space-1 (Assumed) */
  padding-inline: var(--space-xs); /* Mapped from --space-1 (Assumed) */
  color: var(--color-text-dark);
  text-decoration: none;
  border-radius: var(--border-radius-base); /* Mapped from --radius-sm */
  transition: color var(--transition-speed), background-color var(--transition-speed),
    box-shadow var(--transition-speed); /* Mapped from --ease-fast */
}
nav.primary-menu a:hover {
  /* Use the brand color on hover */
  color: var(--color-primary); /* Mapped from --color-primary-strong */
}
nav.primary-menu a:focus-visible {
  /* High-contrast focus indicator */
  outline: 3px solid var(--color-secondary); /* Assumed 3px for --space-0, used secondary color for focus */
  outline-offset: 3px; /* Assumed 3px for --space-0 */
}

/* Active/current states from WP classes */
nav.primary-menu li.current-menu-item > a,
nav.primary-menu li.current_page_item > a,
nav.primary-menu li.current-menu-ancestor > a {
  color: var(--color-primary);
  
  /* 1. Force a straight line by setting bottom corners to 0 radius */
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  
  /* 2. Use a clean bottom border */
  border-bottom: 2px solid var(--color-primary); 
  
  /* 3. Adjust vertical padding to maintain element height */
  /* Assuming var(--space-xs) is 0.5rem (8px), this becomes calc(8px - 3px) */
  padding-block: calc(var(--space-xs) - 3px) var(--space-xs);
}

/* Dropdowns (basic hover-only behavior; no JS) */
nav.primary-menu li {
  position: relative;
}
nav.primary-menu li.menu-item-has-children > a {
  padding-inline-end: var(--space-sm); /* Mapped from --space-2 */
}
nav.primary-menu ul.sub-menu {
  display: none;
  position: absolute;
  inset-block-start: 100%;
  inset-inline-start: 0;
  background: var(--color-background-light); /* Mapped from --color-surface */
  border-radius: calc(var(--border-radius-base) * 2); /* Mapped from --radius-md (0.5rem) */
  box-shadow: var(--box-shadow-base); /* Mapped from --shadow-md (using --box-shadow-base for consistency) */
  padding: var(--space-xs); /* Mapped from --space-1 (Assumed) */
  margin: 0;
  list-style: none;
  min-inline-size: 100%;
}
nav.primary-menu li:hover > ul.sub-menu {
  display: block;
}
nav.primary-menu ul.sub-menu > li > a {
  display: block;
  padding-block: var(--space-xs); /* Mapped from --space-1 (Assumed) */
  padding-inline: var(--space-sm); /* Mapped from --space-2 */
  border-radius: var(--border-radius-base); /* Mapped from --radius-sm */
  white-space: nowrap;
}

/* Optional muted utility in header context */
header .muted {
  color: var(--gray-600); /* Mapped from --color-muted */
}

/* --- New Styles for Church Name and Wrapper --- */

/* Wrapper for Logo/Site Title and Church Name to control alignment */
.logo-info-wrapper {
    display: flex;
    /* CHANGE: Force horizontal alignment (inline) */
    flex-direction: row; 
    
    /* Align items to the bottom baseline for a clean look */
    align-items: flex-end; 
    
    /* Add horizontal gap between the logo/site title and the church name */
    gap: var(--space-sm); 
    
    justify-content: flex-start;
    min-inline-size: 0;
}

/* Logo h1 - Ensure the site title text is styled as desired for inline view */
.site-logo h1 {
    /* Keeping the desktop size from the previous response for prominence */
    font-size: var(--font-size-h2); 
    line-height: 1.2;
    margin: 0;
}

/* Church Name Styling */
.church-name {
    /* Use a standard font size, but slightly less dominant than the main site title */
    font-family: var(--font-body);
    font-size: var(--font-size-large); 
    font-weight: var(--font-weight-regular);
    color: var(--gray-700);
    line-height: 1.2;
    
    /* REMOVED: All vertical margins to maintain inline alignment */
    margin: 0; 
}
